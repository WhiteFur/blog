<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/blog/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/blog/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/blog/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="node,ES6,generator," />








  <link rel="shortcut icon" type="image/x-icon" href="/blog/favicon.ico?v=5.0.1" />






<meta name="description" content="[初探 ES6（3）Generator] (http://www.codedata.com.tw/javascript/es6-3-generator/)

ES6 新增的諸多功能中，Generator受到許多矚目。什麼是Generator呢？簡單地說，他有點像是為函數增加額外的進入點，函數在執行到yield時會暫停執行，返回到呼叫函數的程式中繼續執行，直到Generator物件的next方法再次">
<meta property="og:type" content="article">
<meta property="og:title" content="Generator-function">
<meta property="og:url" content="http://whitefur.github.io/blog/2016/07/11/Generator-function/index.html">
<meta property="og:site_name" content="whiteFur">
<meta property="og:description" content="[初探 ES6（3）Generator] (http://www.codedata.com.tw/javascript/es6-3-generator/)

ES6 新增的諸多功能中，Generator受到許多矚目。什麼是Generator呢？簡單地說，他有點像是為函數增加額外的進入點，函數在執行到yield時會暫停執行，返回到呼叫函數的程式中繼續執行，直到Generator物件的next方法再次">
<meta property="og:updated_time" content="2016-07-11T11:34:39.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Generator-function">
<meta name="twitter:description" content="[初探 ES6（3）Generator] (http://www.codedata.com.tw/javascript/es6-3-generator/)

ES6 新增的諸多功能中，Generator受到許多矚目。什麼是Generator呢？簡單地說，他有點像是為函數增加額外的進入點，函數在執行到yield時會暫停執行，返回到呼叫函數的程式中繼續執行，直到Generator物件的next方法再次">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>




  <link rel="canonical" href="http://whitefur.github.io/blog/2016/07/11/Generator-function/"/>

  <title> Generator-function | whiteFur </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/blog/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">whiteFur</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/blog/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Accueil
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/blog/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/blog/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Generator-function
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posté le</span>
            <time itemprop="dateCreated" datetime="2016-07-11T17:40:09+08:00" content="2016-07-11">
              2016-07-11
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>[初探 ES6（3）Generator] (<a href="http://www.codedata.com.tw/javascript/es6-3-generator/" target="_blank" rel="external">http://www.codedata.com.tw/javascript/es6-3-generator/</a>)</p>
<blockquote>
<p>ES6 新增的諸多功能中，Generator受到許多矚目。什麼是Generator呢？簡單地說，他有點像是為函數增加額外的進入點，函數在執行到yield時會暫停執行，返回到呼叫函數的程式中繼續執行，直到Generator物件的next方法再次被呼叫，讓程式回到函數中。</p>
</blockquote>
<ul>
<li>語法: function* name(…){…}</li>
<li>Generator Function call時，不會馬上執行，而是return一個iterator object</li>
<li>iterator的next() method被呼叫時，該generator function才會真的被執行，但是只執行到yield為止</li>
<li>Once paused on a yield expression, the generator’s code execution remains paused until the generator’s next() method is called. </li>
<li>iterator的next() call <ul>
<li>returns an object like {value: VALUE_FROM_YIELD, done: IS_THIS_FINISHED}</li>
<li>done: indicates whether the generator has yielded its last value</li>
</ul>
</li>
<li>yield<ul>
<li>可以看成是generator function的return keyword</li>
<li>用法: [rv] = yield [expression];</li>
<li>expression<br>  Defines the value to return from the generator function via the iterator protocol. If omitted, undefined is returned instead.</li>
<li>rv<br>  Returns the optional value passed to the generator’s next() method to resume its execution.</li>
</ul>
</li>
<li>next()會resume the generator function</li>
<li>next(arg) 如果有傳參數，則yield statement where execution was paused會被換成該arg<br>If an optional value is passed to the generator’s next() method, that value becomes the value returned by the generator’s current yield operation.</li>
<li>Each time the generator’s next() method is called, the generator resumes execution and runs until it reaches one of the following:<ul>
<li>A yield, which causes the generator to once again pause and return the generator’s new value. The next time next() is called, execution resumes with the statement immediately after the yield.</li>
<li>throw is used to throw an exception from the generator. This halts execution of the generator entirely, and execution resumes in the caller as is normally the case when an exception is thrown.</li>
<li>The end of the generator function is reached; in this case, execution of the generator ends and an IteratorResult is returned to the caller in which the value is undefined and done is true.</li>
<li>A return statement is reached. In this case, execution of the generator ends and an IteratorResult is returned to the caller in which the value is the value specified by the return statement and done is true.</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> stop = <span class="keyword">yield</span> <span class="string">'woo'</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(stop, <span class="string">'inside foo'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> G = foo();</span><br><span class="line"><span class="built_in">console</span>.log(G.next());</span><br><span class="line"><span class="built_in">console</span>.log(G.next(<span class="string">'bar'</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">/* result:</span><br><span class="line">&#123; value: 'woo', done: false &#125;</span><br><span class="line">bar inside foo</span><br><span class="line">&#123; value: undefined, done: true &#125;</span><br><span class="line">*/</span></span><br></pre></td></tr></table></figure>

      
    </div>

    <div>
      
        
      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/blog/tags/node/" rel="tag">#node</a>
          
            <a href="/blog/tags/ES6/" rel="tag">#ES6</a>
          
            <a href="/blog/tags/generator/" rel="tag">#generator</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/blog/2016/06/27/Hexo-Tutorial/" rel="next" title="Hexo-Tutorial">
                <i class="fa fa-chevron-left"></i> Hexo-Tutorial
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/blog/2016/08/22/Git-case-sensitivity/" rel="prev" title="Git-case-sensitivity">
                Git-case-sensitivity <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table Des Matières
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Ensemble
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/blog/images/avatar.gif"
               alt="whiteFur" />
          <p class="site-author-name" itemprop="name">whiteFur</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/blog/archives">
              <span class="site-state-item-count">13</span>
              <span class="site-state-item-name">articles</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/blog/tags">
                <span class="site-state-item-count">22</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <p class="post-toc-empty">This post does not have a Table of Contents</p>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">whiteFur</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Thème -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/blog/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/blog/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/blog/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/blog/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/blog/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/blog/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/blog/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/blog/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/blog/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/blog/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/blog/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  
  

  

  

</body>
</html>
